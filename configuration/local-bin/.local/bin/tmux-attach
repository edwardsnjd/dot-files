#!/usr/bin/env bash

# Usage: tmux-attach
#
# Fuzzy select an available tmux session then attaches or
# switches to selected session.

selected_session=$(
 tmux ls -F "#{session_id}	#S" \
   | fzf --nth=2 \
   | cut -f2
)

if [ -z "${selected_session}" ]
then
  echo "(No session selected)"
else
  [ -z "${TMUX}" ] \
    && tmux attach-session -t "${selected_session}" \
    || tmux switch-client -t "${selected_session}"
fi
